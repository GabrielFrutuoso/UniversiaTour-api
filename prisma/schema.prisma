// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

//user model
model User {
  id            String @id @default(uuid())
  username      String
  email         String @unique
  password      String
  avatar        String? @db.VarChar(200)
  bio           String?
  tripInterests String? @db.VarChar(500)
  birthday      String
  role          role @default(USER) 
  activities   activities[]
}

//roles model
enum role {
  USER
  ADMIN
}



//destinies model
model destinies {
  id           Int @id @default(autoincrement())
  state        String
  bestSeason   String @db.VarChar(500)
  weather      String @db.VarChar(500)
  localMaps    String @db.VarChar(500)
  description  String @db.VarChar(2000)
  imageUrl     String @db.VarChar(500)
  touristics   touristics[]
}

//touristics
model touristics {
  id           Int @id @default(autoincrement())
  location     String
  city         String
  localMaps    String @db.VarChar(500)
  description  String @db.VarChar(2000)
  destiniesId  Int
  images       images[]
  activities   activities[]
  destinies    destinies @relation(fields: [destiniesId], references: [id]) 
}

//images
model images {
  id            Int @id @default(autoincrement())
  url           String @db.VarChar(500)
  touristicId   Int
  touristic     touristics @relation(fields: [touristicId], references: [id])
}

model activities {
  id           Int @id @default(autoincrement())
  description  String @db.VarChar(500)
  touristicId  Int
  userId       String
  touristic    touristics @relation(fields: [touristicId], references: [id])
  user         User @relation(fields: [userId], references: [id])
  }